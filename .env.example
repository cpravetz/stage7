# .env.example
#
# This file contains example environment variables for configuring Stage7.
# Copy this file to '.env' in the project root and fill in the appropriate values.
#
# For variables specified as 'DEFAULT_VALUE', you can typically leave them as is
# for a default local Docker Compose setup.
#

#########################################################
# Core System Configuration                             #
#########################################################

# Node.js environment (e.g., 'production', 'development')
NODE_ENV=production

# Redis connection details (internal to Docker network by default)
REDIS_HOST=redis
REDIS_PORT=6379

# MongoDB connection details (internal to Docker network by default)
MONGO_URI=mongodb://mongo:27017
MONGO_DB=librarianDB # Default database for Librarian service

# RabbitMQ connection details (internal to Docker network by default)
RABBITMQ_URL=amqp://stage7:stage7password@rabbitmq:5672
RABBITMQ_DEFAULT_USER=stage7
RABBITMQ_DEFAULT_PASS=stage7password
RABBITMQ_DEFAULT_VHOST=/
# Optional: RabbitMQ Erlang VM memory high watermark (e.g., 0.7 for 70%)
RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS="-rabbit vm_memory_high_watermark 0.7"

# Consul service discovery (internal to Docker network by default)
CONSUL_URL=consul:8500

# Allow PostOffice to start even if RabbitMQ is not immediately available.
# Set to "false" for strict production environments.
ALLOW_READY_WITHOUT_RABBITMQ="true"

# Optional: Node.js options for Agentset service (e.g., memory limits)
NODE_OPTIONS="--max-old-space-size=4096"

#########################################################
# Service URLs (Internal Docker Network)                #
# These typically do not need to be changed for default #
# Docker Compose deployments.                           #
#########################################################

# Base URL for the PostOffice service
POSTOFFICE_URL=http://postoffice:5020

# Base URL for the Security Manager service
SECURITYMANAGER_URL=securitymanager:5010

# Base URL for the Mission Control service
MISSIONCONTROL_URL=missioncontrol:5030

# Base URL for the Librarian service
LIBRARIAN_URL=librarian:5040

# Base URL for the Brain service
BRAIN_URL=brain:5070

# Base URL for the Engineer service
ENGINEER_URL=engineer:5050

# Base URL for the Capabilities Manager service
CAPABILITIESMANAGER_URL=capabilitiesmanager:5060

#########################################################
# Authentication & Security Configuration               #
#########################################################

# Shared secret for internal service-to-service authentication.
# IMPORTANT: CHANGE THIS IN PRODUCTION!
# Shared secret for internal service-to-service authentication.
# IMPORTANT: This should be a long, randomly generated string in production.
# A setup script should ideally generate this for you.
SHARED_SECRET=

# Admin secret for SecurityManager.
# IMPORTANT: This should be a long, randomly generated string in production.
# A setup script should ideally generate this for you.
ADMIN_SECRET=

# Directory for RSA keys used by SecurityManager.
# This should typically point to a mounted volume for persistence.
KEYS_DIR=/usr/src/app/services/security/keys

# JWT Configuration
JWT_ALGORITHM=RS256
JWT_EXPIRATION=3600 # in seconds (1 hour)

# Authentication toggles
AUTH_ENABLED="true"
ACCEPT_ANY_SERVICE="false"
ACCEPT_ANY_SECRET="false"

#########################################################
# GitHub & Plugin Repository Configuration              #
#########################################################

# Your GitHub Personal Access Token (PAT) for plugin integration (e.g., Engineer, CapabilitiesManager).
# Required if ENABLE_GITHUB is "true" or DEFAULT_PLUGIN_REPOSITORY is "github".
# https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token
GITHUB_TOKEN=your_github_token_here

# Your GitHub username
GITHUB_USERNAME=your_github_username_here

# Default branch for Git operations
GIT_DEFAULT_BRANCH=main

# Default Git repository URL for plugins (if using GitHub as a repository source)
GIT_REPOSITORY_URL=https://github.com/your-username/your-repo.git

# Your GitHub email
GITHUB_EMAIL=your-email@example.com

# Default plugin repository type (options: mongo, github, local)
DEFAULT_PLUGIN_REPOSITORY=mongo

# Optional: Default URL for a custom plugin repository (if not GitHub)
DEFAULT_REPOSITORY_URL=

# Optional: Username for a custom plugin repository (if not GitHub)
REPOSITORY_USERNAME=

# Optional: Token for a custom plugin repository (if not GitHub)
REPOSITORY_TOKEN=

# Optional: Email for a custom plugin repository (if not GitHub)
REPOSITORY_EMAIL=

# MongoDB collection name for plugins (if DEFAULT_PLUGIN_REPOSITORY is "mongo")
MONGO_COLLECTION=plugins

# Path to local plugins (if DEFAULT_PLUGIN_REPOSITORY is "local")
LOCAL_PLUGIN_PATH=/usr/src/app/services/capabilitiesmanager/src/plugins

# Enable GitHub integration
ENABLE_GITHUB="true"

#########################################################
# Frontend (MCS React) Configuration                    #
#########################################################

# Base URL for API calls from the frontend
REACT_APP_API_BASE_URL=http://localhost:5020

# WebSocket URL for the frontend
REACT_APP_WS_URL=ws://localhost:5020

#########################################################
# Third-Party API Keys                                  #
#########################################################

# Your API Key for Groq services (e.g., specific LLMs)
GROQ_API_KEY=your_groq_api_key_here

#########################################################
# ChromaDB Configuration                                #
#########################################################

# Persistence setting for ChromaDB
IS_PERSISTENT=TRUE
# Directory where ChromaDB will store its persistent data
PERSIST_DIRECTORY=/chroma/chroma
# Anonymized telemetry for ChromaDB (set to FALSE to disable)
ANONYMIZED_TELEMETRY=FALSE

#########################################################
# Assistant Specific Secrets                            #
# These are used by individual assistant services for   #
# authentication with the SecurityManager.              #
# They should generally be the same as SHARED_SECRET    #
# for a default local setup.                            #
#########################################################

PM_ASSISTANT_API_SECRET=stage7AuthSecret
SALES_ASSISTANT_API_SECRET=stage7AuthSecret
MARKETING_ASSISTANT_API_SECRET=stage7AuthSecret
HR_ASSISTANT_API_SECRET=stage7AuthSecret
FINANCE_ASSISTANT_API_SECRET=stage7AuthSecret
SUPPORT_ASSISTANT_API_SECRET=stage7AuthSecret
LEGAL_ASSISTANT_API_SECRET=stage7AuthSecret
HEALTHCARE_ASSISTANT_API_SECRET=stage7AuthSecret
EDUCATION_ASSISTANT_API_SECRET=stage7AuthSecret
EVENT_ASSISTANT_API_SECRET=stage7AuthSecret
EXECUTIVE_ASSISTANT_API_SECRET=stage7AuthSecret
CAREER_ASSISTANT_API_SECRET=stage7AuthSecret
CONTENT_CREATOR_ASSISTANT_API_SECRET=stage7AuthSecret
SONGWRITER_ASSISTANT_API_SECRET=stage7AuthSecret
SCRIPTWRITER_ASSISTANT_API_SECRET=stage7AuthSecret
HOTEL_OPS_ASSISTANT_API_SECRET=stage7AuthSecret
RESTAURANT_OPS_ASSISTANT_API_SECRET=stage7AuthSecret
INVESTMENT_ADVISOR_API_SECRET=stage7AuthSecret
SPORTS_WAGER_ADVISOR_API_SECRET=stage7AuthSecret
CTO_ASSISTANT_API_SECRET=stage7AuthSecret